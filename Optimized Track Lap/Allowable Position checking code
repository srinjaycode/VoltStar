from PIL import Image
import matplotlib.pyplot as plt

def is_position_in_red_silhouette(image_path, position):
    # Open the image and convert it to RGBA mode (if not already)
    img = Image.open(image_path).convert("RGBA")
    # Get the pixel data
    pixels = img.load()

    # Get the x and y coordinates from the input position
    x, y = position

    # Check if the x, y coordinates are within the bounds of the image
    if x < 0 or y < 0 or x >= img.width or y >= img.height:
        return False
    print(f"width{img.width}, height{img.height}")
    print(position, x , y)
    # Get the pixel color at (x, y)
    pixel = pixels[x, y]

    # blue cus the track is blue in pic
    r, g, b, a = pixel
    # You can adjust the threshold if necessary to determine a "red" pixel
    if r < 90 and g > 130 and b > 120:  # Modify threshold values as needed
        return True
    return False


track = []
image_path = "the track image its in the file.png"
#example pos
position = (243, 613)
result = is_position_in_red_silhouette(image_path, position)
print(f"position {position} is inside the silhouette: {result}")
